{"version":3,"file":"static/webpack/static/development/pages/_app.js.e11e3fdd83ecdffe1386.hot-update.js","sources":["webpack:///./lib/with-redux.js"],"sourcesContent":["import React from \"react\";\nimport initializeStore from '../store/store'\n\nconst isServer = typeof window === 'undefined'\nconst __NEXT_REDUX_STORE__ = '__NEXT_REDUX_STORE__'\n\nfunction getOrCreateStore(initialState) {\n    \n  if (isServer) {\n    return initializeStore(initialState)\n  }\n  if (!window[__NEXT_REDUX_STORE__]) {\n    window[__NEXT_REDUX_STORE__] = initializeStore(initialState)\n  }\n\n  return window[__NEXT_REDUX_STORE__]\n}\n\nexport default (Comp) => {\n  class WithReduxApp extends React.Component {\n    constructor(props) {\n       super(props)\n       this.reduxStore = getOrCreateStore(props.initialReduxState)\n    }\n    render() {\n        console.log(\"render\");\n      const { Component, pageProps, ...rest } = this.props\n      return (\n        <Comp\n          {...rest}\n          Component={Component}\n          pageProps={pageProps}\n          reduxStore={this.reduxStore}\n        />\n      )\n    }\n  }\n\n  WithReduxApp.getInitialProps = async (ctx) => {\n    const reduxStore = getOrCreateStore()\n    ctx.reduxStore = reduxStore\n\n    let appProps = {}\n    if (typeof Comp.getInitialProps === 'function') {\n      appProps = await Comp.getInitialProps(ctx)\n    }\n    return {\n      ...appProps,\n      initalReduxState: reduxStore.getState(),\n    }\n  }\n\n  return WithReduxApp\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AADA;AACA;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAGA;AACA;AANA;AAAA;AAAA;AAOA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAGA;AACA;AACA;AAJA;AAOA;AAjBA;AACA;AADA;AAAA;AACA;AAmBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AALA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAMA;AACA;AAPA;AAAA;AAUA;AAVA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAaA;AACA;;;;A","sourceRoot":""}