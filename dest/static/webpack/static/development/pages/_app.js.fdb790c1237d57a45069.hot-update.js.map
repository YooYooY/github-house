{"version":3,"file":"static/webpack/static/development/pages/_app.js.fdb790c1237d57a45069.hot-update.js","sources":["webpack:///./lib/with-redux.js"],"sourcesContent":["import React from \"react\";\nimport initializeStore from '../store/store'\n\nconst isServer = typeof window === 'undefined'\nconst __NEXT_REDUX_STORE__ = '__NEXT_REDUX_STORE__'\n\nfunction getOrCreateStore(initialState) {\n    \n  if (isServer) {\n    return initializeStore(initialState)\n  }\n  if (!window[__NEXT_REDUX_STORE__]) {\n    window[__NEXT_REDUX_STORE__] = initializeStore(initialState)\n  }\n\n  return window[__NEXT_REDUX_STORE__]\n}\n\nexport default (Comp) => {\n  class WithReduxApp extends React.Component {\n    constructor(props) {\n      super(props)\n      this.reduxStore = getOrCreateStore(props.initialReduxState)\n      console.log('constructor')\n    }\n    render() {\n        console.log(\"render\");\n      const { Component, pageProps, ...restProps } = this.props\n      return (\n        <Comp\n          Component={Component}\n          pageProps={pageProps}\n          reduxStore={this.reduxStore}\n          {...restProps}\n        />\n      )\n    }\n  }\n\n  WithReduxApp.getInitialProps = async (ctx) => {\n    const reduxStore = getOrCreateStore()\n    console.log(\"test\");\n    ctx.reduxStore = reduxStore;\n    \n    let appProps = {}\n    if (typeof Comp.getInitialProps === 'function') {\n      appProps = await Comp.getInitialProps(ctx)\n    }\n    return {\n      ...appProps,\n      initalReduxState: reduxStore.getState(),\n    }\n  }\n\n  return WithReduxApp\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AADA;AACA;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AAHA;AAIA;AACA;AAPA;AAAA;AAAA;AAQA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AAHA;AAOA;AAlBA;AACA;AADA;AAAA;AACA;AAoBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AANA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAOA;AACA;AARA;AAAA;AAWA;AAXA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAcA;AACA;;;;A","sourceRoot":""}